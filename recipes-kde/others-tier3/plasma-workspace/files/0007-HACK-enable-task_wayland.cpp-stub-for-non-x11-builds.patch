From 12cf21754b2ea41b13930943d6065a907dbd0a21 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Andreas=20M=C3=BCller?= <schnitzeltony@googlemail.com>
Date: Thu, 11 Dec 2014 15:15:43 +0100
Subject: [PATCH 07/11] HACK: enable task_wayland.cpp stub for non x11 builds
 to make linker happy
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Signed-off-by: Andreas MÃ¼ller <schnitzeltony@googlemail.com>
---
 libtaskmanager/CMakeLists.txt | 10 +++-------
 1 file changed, 3 insertions(+), 7 deletions(-)

diff --git a/libtaskmanager/CMakeLists.txt b/libtaskmanager/CMakeLists.txt
index 640f1fb..b3ce55a 100644
--- a/libtaskmanager/CMakeLists.txt
+++ b/libtaskmanager/CMakeLists.txt
@@ -31,15 +31,11 @@ set(taskmanager_LIB_SRCS
 
 ki18n_wrap_ui(taskmanager_LIB_SRCS launcherconfig.ui launcherproperties.ui)
 
-if(WIN32)
-    set(taskmanager_LIB_SRCS ${taskmanager_LIB_SRCS} task_win.cpp)
-endif()
-if(HAVE_X11 AND NOT WIN32)
+if(HAVE_X11)
     set(taskmanager_LIB_SRCS ${taskmanager_LIB_SRCS} task_x11.cpp)
+else()
+    set(taskmanager_LIB_SRCS ${taskmanager_LIB_SRCS} task_wayland.cpp)
 endif()
-#if(HAVE_WAYLAND)
-#    set(taskmanager_LIB_SRCS ${taskmanager_LIB_SRCS} task_wayland.cpp)
-#endif()
 
 add_library(taskmanager ${taskmanager_LIB_SRCS})
 add_library(PW::LibTaskManager ALIAS taskmanager)
-- 
1.8.3.1

