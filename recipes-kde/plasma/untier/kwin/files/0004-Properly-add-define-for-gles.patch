From 2a8d7664b3f605bab3416660d0805ce6227fba01 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Martin=20Gr=C3=A4=C3=9Flin?= <mgraesslin@kde.org>
Date: Thu, 7 May 2015 14:11:30 +0200
Subject: [PATCH 1/2] Properly add define for gles

Otherwise some parts still include epoxy/glx.h.
---
 CMakeLists.txt | 1 +
 1 file changed, 1 insertion(+)

diff --git a/CMakeLists.txt b/CMakeLists.txt
index 23dd238..32c48cc 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -257,6 +257,7 @@ endif()
 if(${Qt5Gui_OPENGL_IMPLEMENTATION} STREQUAL "GLESv2")
     set(KWIN_BUILD_OPENGLES TRUE)
     message("Building KWin with OpenGL ES 2 support")
+    add_definitions(-DKWIN_HAVE_OPENGLES)
 endif()
 
 if(NOT KWIN_BUILD_OPENGL AND NOT KWIN_BUILD_OPENGLES)
-- 
1.9.3

