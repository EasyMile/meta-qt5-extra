From abc352254945ab3a0841687a8dc5ac53cebbd8c3 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Andreas=20M=C3=BCller?= <schnitzeltony@googlemail.com>
Date: Sat, 31 Jan 2015 13:24:06 +0100
Subject: [PATCH 1/2] add -fPIC to libHawaiiQtXDG compiler options
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

we link a static library into a shared this causes at least for arm platforms:

| arm-angstrom-linux-gnueabi/gcc/arm-angstrom-linux-gnueabi/4.9.1/ld: error: ../../3rdparty/libqtxdg/libHawaiiQtXDG.a(xdgdesktopfile.cpp.o): requires unsupported dynamic reloc R_ARM_MOVW_ABS_NC; recompile with -fPIC
| ...

Signed-off-by: Andreas MÃ¼ller <schnitzeltony@googlemail.com>
---
 3rdparty/libqtxdg/CMakeLists.txt | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/3rdparty/libqtxdg/CMakeLists.txt b/3rdparty/libqtxdg/CMakeLists.txt
index 0988620..8aec7dd 100644
--- a/3rdparty/libqtxdg/CMakeLists.txt
+++ b/3rdparty/libqtxdg/CMakeLists.txt
@@ -1,3 +1,5 @@
+set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -fPIC")
+
 add_definitions(-DHAVE_QTMIMETYPES)
 
 set(SOURCES
-- 
1.8.3.1

