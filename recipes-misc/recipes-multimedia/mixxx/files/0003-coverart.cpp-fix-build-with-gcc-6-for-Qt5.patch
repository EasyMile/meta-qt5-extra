From 5d147b7a84d2fa392b46c508d963276c6093b9c5 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Andreas=20M=C3=BCller?= <schnitzeltony@googlemail.com>
Date: Tue, 20 Sep 2016 00:25:13 +0200
Subject: [PATCH] coverart.cpp: fix build
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

fixes (with gcc-6 / Qt5.7):
src/library/coverart.cpp:35:44: error: no match for 'operator%' (operand types are 'QString' and 'QLatin1Literal {aka QLatin1String}')
     return typeToString(infoRelative.type) % QLatin1Literal(",") %
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~
src/library/coverart.cpp: In function 'QString {anonymous}::coverInfoToString(const CoverInfo&)':
src/library/coverart.cpp:42:44: error: no match for 'operator%' (operand types are 'QString' and 'QLatin1Literal {aka QLatin1String}')
     return coverInfoRelativeToString(info) % QLatin1Literal(",") %
            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~~~~~

Signed-off-by: Andreas MÃ¼ller <schnitzeltony@googlemail.com>
---
 src/library/coverart.cpp | 14 +++++++-------
 1 file changed, 7 insertions(+), 7 deletions(-)

diff --git a/src/library/coverart.cpp b/src/library/coverart.cpp
index 621b424..2afc5f0 100644
--- a/src/library/coverart.cpp
+++ b/src/library/coverart.cpp
@@ -1,5 +1,5 @@
 #include <QtDebug>
-#include <QLatin1Literal>
+#include <QStringBuilder>
 
 #include "library/coverart.h"
 #include "library/coverartutils.h"
@@ -32,15 +32,15 @@ QString typeToString(CoverInfo::Type type) {
 }
 
 QString coverInfoRelativeToString(const CoverInfoRelative& infoRelative) {
-    return typeToString(infoRelative.type) % QLatin1Literal(",") %
-           sourceToString(infoRelative.source) % QLatin1Literal(",") %
-           infoRelative.coverLocation % QLatin1Literal(",") %
-           QLatin1Literal("0x") % QString::number(infoRelative.hash, 16);
+    return typeToString(infoRelative.type) % QLatin1String(",") %
+           sourceToString(infoRelative.source) % QLatin1String(",") %
+           infoRelative.coverLocation % QLatin1String(",") %
+           QLatin1String("0x") % QString::number(infoRelative.hash, 16);
 }
 
 QString coverInfoToString(const CoverInfo& info) {
-    return coverInfoRelativeToString(info) % QLatin1Literal(",") %
-           info.trackLocation % QLatin1Literal(",");
+    return coverInfoRelativeToString(info) % QLatin1String(",") %
+           info.trackLocation % QLatin1String(",");
 }
 } // anonymous namespace
 
-- 
2.5.5

